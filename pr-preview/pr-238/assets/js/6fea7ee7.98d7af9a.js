"use strict";(self.webpackChunkproduct_docs=self.webpackChunkproduct_docs||[]).push([[6039],{2036:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var i=t(5893),o=t(1151);const r={description:"Integration Guide for OpenVPN on MacOS",last_update:{date:"01-11-2024"},slug:"/how-tos/openvpn-integration-macos"},c="OpenVPN Integration Guide for MacOS",s={id:"how-tos/openvpn/integration-macos",title:"OpenVPN Integration Guide for MacOS",description:"Integration Guide for OpenVPN on MacOS",source:"@site/docs/how-tos/openvpn/integration-macos.md",sourceDirName:"how-tos/openvpn",slug:"/how-tos/openvpn-integration-macos",permalink:"/pr-preview/pr-238/how-tos/openvpn-integration-macos",draft:!1,unlisted:!1,editUrl:"https://github.com/emnify/product-docs/blob/main/docs/how-tos/openvpn/integration-macos.md",tags:[],version:"current",lastUpdatedAt:1704931200,formattedLastUpdatedAt:"Jan 11, 2024",frontMatter:{description:"Integration Guide for OpenVPN on MacOS",last_update:{date:"01-11-2024"},slug:"/how-tos/openvpn-integration-macos"}},a={},l=[{value:"Add mandatory layer of security and privacy",id:"add-mandatory-layer-of-security-and-privacy",level:2},{value:"Setting Up OpenVPN Client with OpenVPN",id:"setting-up-openvpn-client-with-openvpn",level:2},{value:"Create the credentials file:",id:"create-the-credentials-file",level:3},{value:"Setting Up OpenVPN Client with Tunnelblick",id:"setting-up-openvpn-client-with-tunnelblick",level:2},{value:"Setup",id:"setup",level:2},{value:"Create credentials",id:"create-credentials",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"openvpn-integration-guide-for-macos",children:"OpenVPN Integration Guide for MacOS"}),"\n",(0,i.jsx)(n.p,{children:"emnify customers can create their own Virtual Private Network for their mobile IoT/M2M devices fitted with emnify SIMs.\nData traffic will be exchanged between the devices and the application server through an OpenVPN tunnel, enabling direct communication with the IPs of the mobile devices (no NAT applied)."}),"\n",(0,i.jsx)(n.p,{children:"The tunnel is established between the emnify Core Network and the customers VPN gateway or server."}),"\n",(0,i.jsxs)(n.p,{children:["See this video ",(0,i.jsx)(n.a,{href:"https://www.youtube.com/watch?v=yt44fJpfkQ4",children:"guide for how to secure your devices with Open VPN"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"add-mandatory-layer-of-security-and-privacy",children:"Add mandatory layer of security and privacy"}),"\n",(0,i.jsxs)(n.p,{children:["Any traffic exchanged with the mobile devices is encrypted before transmitted over the public internet, therefore adding an additional layer of security and privacy.\nFor that ",(0,i.jsx)(n.strong,{children:"no"})," VPN software needs to be installed on the device or any configuration changes to be done, the default emnify APN does also support VPN flows."]}),"\n",(0,i.jsx)(n.p,{children:"First, download the VPN config file from the emnify User Interface"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:'Click on the "Integrations" menu'}),"\n",(0,i.jsx)(n.li,{children:'Scroll down to the "secure connection" section and download the configuration file'}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Additionally, you need to change the Internet Regional Breakout in the device policy:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:'Click on "Device Policies"'}),"\n",(0,i.jsx)(n.li,{children:'Scroll down to "Service Policies", select the policy assigned to the devices you want to secure and click on "Details".'}),"\n",(0,i.jsxs)(n.li,{children:['On the "Internet Breakout Region" menu, set the Service Policy to a VPN breakout region, e.g., ',(0,i.jsx)(n.code,{children:"eu-west-1 (VPN)"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"setting-up-openvpn-client-with-openvpn",children:"Setting Up OpenVPN Client with OpenVPN"}),"\n",(0,i.jsxs)(n.p,{children:["Install OpenVPN, this can be done from Homebrew (",(0,i.jsx)(n.a,{href:"https://formulae.brew.sh/formula/openvpn",children:"https://formulae.brew.sh/formula/openvpn"}),") using\n",(0,i.jsx)(n.code,{children:"brew install openvpn"})]}),"\n",(0,i.jsx)(n.h3,{id:"create-the-credentials-file",children:"Create the credentials file:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo touch /etc/openvpn/credentials.txt\nsudo nano /etc/openvpn/credentials.txt\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"credentials.txt"})," file should contain OrgID and Application Token (preferred):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"orgId\nApplication Token\n"})}),"\n",(0,i.jsx)(n.p,{children:"or username and password:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"username@domain.com\nYourPassword\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Connect with the following command, passing the configuration file to openvpn using the ",(0,i.jsx)(n.code,{children:"--config"})," option:"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"sudo openvpn --config path/to/emnify-eu-west-1.conf"})}),"\n",(0,i.jsx)(n.h2,{id:"setting-up-openvpn-client-with-tunnelblick",children:"Setting Up OpenVPN Client with Tunnelblick"}),"\n",(0,i.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,i.jsxs)(n.p,{children:["Drop the configuration file onto the Tunnelblick icon in the topbar. Alternatively, via the settings panel in\n",(0,i.jsx)(n.strong,{children:"VPN Details -> Configurations"})," and drop the configuration file onto the ",(0,i.jsx)(n.em,{children:"Configurations"})," list.\nTunnelblick will ask for a user password."]}),"\n",(0,i.jsx)(n.h2,{id:"create-credentials",children:"Create credentials"}),"\n",(0,i.jsx)(n.p,{children:"In /etc/openvpn directory, create the credentials file."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo touch /etc/openvpn/credentials.txt\nsudo nano /etc/openvpn/credentials.txt\n"})}),"\n",(0,i.jsx)(n.p,{children:"To connect to the regions VPN, you will need to enter the password of your mac."})]})}function p(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>s,a:()=>c});var i=t(7294);const o={},r=i.createContext(o);function c(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);
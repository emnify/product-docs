"use strict";(self.webpackChunkproduct_docs=self.webpackChunkproduct_docs||[]).push([[8020],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=c(n),u=o,h=d["".concat(l,".").concat(u)]||d[u]||m[u]||r;return n?a.createElement(h,i(i({ref:t},p),{},{components:n})):a.createElement(h,i({ref:t},p))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:o,i[1]=s;for(var c=2;c<r;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},5488:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var a=n(7462),o=(n(7294),n(3905));const r={description:"Tips and solutions for resolving why a device isn't performing as expected",slug:"/portal/troubleshooting"},i="Device troubleshooting",s={unversionedId:"portal/sims-and-devices/troubleshooting",id:"portal/sims-and-devices/troubleshooting",title:"Device troubleshooting",description:"Tips and solutions for resolving why a device isn't performing as expected",source:"@site/docs/portal/sims-and-devices/troubleshooting.md",sourceDirName:"portal/sims-and-devices",slug:"/portal/troubleshooting",permalink:"/portal/troubleshooting",draft:!1,editUrl:"https://github.com/emnify/product-docs/blob/main/docs/portal/sims-and-devices/troubleshooting.md",tags:[],version:"current",lastUpdatedAt:1690555946,formattedLastUpdatedAt:"Jul 28, 2023",frontMatter:{description:"Tips and solutions for resolving why a device isn't performing as expected",slug:"/portal/troubleshooting"},sidebar:"mainDocsSidebar",previous:{title:"Device policies",permalink:"/portal/device-policies"},next:{title:"SMS",permalink:"/portal/sms"}},l={},c=[{value:"Device connectivity info",id:"device-connectivity-info",level:2},{value:"Usage charts",id:"usage-charts",level:2},{value:"Events",id:"events",level:2},{value:"Event severity",id:"event-severity",level:3},{value:"Filtering",id:"filtering",level:3},{value:"Events indicating normal operation",id:"events-indicating-normal-operation",level:3},{value:"Reset connectivity",id:"reset-connectivity",level:3},{value:"More troubleshooting tips",id:"more-troubleshooting-tips",level:2}],p={toc:c};function d(e){let{components:t,...r}=e;return(0,o.kt)("wrapper",(0,a.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"device-troubleshooting"},"Device troubleshooting"),(0,o.kt)("p",null,"The following information provides a starting point for determining why a device isn't performing as expected."),(0,o.kt)("h2",{id:"device-connectivity-info"},"Device connectivity info"),(0,o.kt)("p",null,"First, determine the device's state either by looking at the device's ",(0,o.kt)("strong",{parentName:"p"},"Details"),"."),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"State"),(0,o.kt)("th",{parentName:"tr",align:null},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Attached")),(0,o.kt)("td",{parentName:"tr",align:null},"If the device has successfully attached to the emnify Core Network in the past, its state is displayed as ",(0,o.kt)("strong",{parentName:"td"},"Attached")," until the visited network has signaled that the device is inactive/offline. Usually, the visited network informs the emnify Core Network within 1-2 days after a device has gone offline.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Blocked")),(0,o.kt)("td",{parentName:"tr",align:null},"Service is suspended either due to exceeded traffic limits or ",(0,o.kt)("a",{parentName:"td",href:"/glossary#imei-lock"},"IMEI lock"),".")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Offline")),(0,o.kt)("td",{parentName:"tr",align:null},"A network connection isn't possible. There are many reasons for this state.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Online")),(0,o.kt)("td",{parentName:"tr",align:null},"A network connection is active, and the device can use data and SMS per the device policies.")))),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"The most efficient way to see if your device has connectivity is to look for the ",(0,o.kt)("strong",{parentName:"p"},"PDP Context active 00:00:00")," display that refreshes every 20 seconds in the ",(0,o.kt)("strong",{parentName:"p"},"Connection")," section of ",(0,o.kt)("strong",{parentName:"p"},"Device Details"),".\nIf it's present and the active time (shown in hh:mm:ss format) increases with each refresh, then you know your device is connected to the network.")),(0,o.kt)("details",{className:"custom-details-troubleshooting"},(0,o.kt)("summary",null,"What's a PDP context?"),"A Packet Data Protocol (PDP) context is a data structure that enables a device to transmit and receive data using Internet Protocol (IP). This data structure includes a device's IP address, IMSI, and additional parameters to properly route data to and from the network.",(0,o.kt)("p",null," If a device's most recent PDP context event is ",(0,o.kt)("strong",{parentName:"p"},"Create PDP Context"),", the device should be ",(0,o.kt)("strong",{parentName:"p"},"online")," with an active network connection.  "),(0,o.kt)("p",null,"  The device is offline if a device's most recent PDP context event is ",(0,o.kt)("strong",{parentName:"p"},"Delete PDP Context"),".")),(0,o.kt)("h2",{id:"usage-charts"},"Usage charts"),(0,o.kt)("p",null,"The ",(0,o.kt)("strong",{parentName:"p"},"Usage")," column under ",(0,o.kt)("strong",{parentName:"p"},"Device Details")," displays a chart if any usage is present for the given time period, which defaults to the ",(0,o.kt)("strong",{parentName:"p"},"Last Hour"),".\nThe absence of data usage or spikes in data usage could indicate abnormal behavior."),(0,o.kt)("details",{className:"custom-details-example"},(0,o.kt)("summary",null,"Show an example"),(0,o.kt)("p",null,"  In this case, no data was sent or received during the last hour."),(0,o.kt)("img",{src:n(6109).Z,style:{width:335},alt:""}),(0,o.kt)("p",null,"  After selecting the ",(0,o.kt)("strong",{parentName:"p"},"Current Month")," view, you can see that this device hasn't sent or received data for several days."),(0,o.kt)("img",{src:n(9246).Z,style:{width:335},alt:""})),(0,o.kt)("h2",{id:"events"},"Events"),(0,o.kt)("p",null,"The event log often contains information that can be used to determine what went wrong."),(0,o.kt)("details",{className:"custom-details-troubleshooting"},(0,o.kt)("summary",null,"Where to find a device's events"),(0,o.kt)("img",{src:n(6009).Z,style:{width:655},alt:""}),(0,o.kt)("p",null,"  ",(0,o.kt)("strong",{parentName:"p"},"Note"),": events are always shown in reverse chronological order, with the newest ones at the top.")),(0,o.kt)("admonition",{title:"Warning",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"Don't rely solely on the ",(0,o.kt)("strong",{parentName:"p"},"Event Type")," to determine what event was logged.\nFor instance, ",(0,o.kt)("strong",{parentName:"p"},"Create PDP Context")," by itself ",(0,o.kt)("em",{parentName:"p"},"doesn't")," mean that a PDP context was successfully created.")),(0,o.kt)("h3",{id:"event-severity"},"Event severity"),(0,o.kt)("p",null,"When used for troubleshooting, an event's severity is more important than the event type.\nFor instance, if a network connection can't be established because of an IMEI lock, the event type may show as ",(0,o.kt)("strong",{parentName:"p"},"Create PDP Context")," with a green play button icon in front of it.\nAlso, since its ",(0,o.kt)("strong",{parentName:"p"},"Event Source")," is only shown if you expand its details, you won't see at first glance that this is a ",(0,o.kt)("strong",{parentName:"p"},"Policy Control")," issue.\nThe only hint that something might have gone wrong is its severity, ",(0,o.kt)("strong",{parentName:"p"},"Warning"),".\nIn contrast, a successful ",(0,o.kt)("strong",{parentName:"p"},"Create PDP Context")," event has an ",(0,o.kt)("strong",{parentName:"p"},"Event Source")," of ",(0,o.kt)("strong",{parentName:"p"},"Network")," and a completely different ",(0,o.kt)("strong",{parentName:"p"},"Description"),"."),(0,o.kt)("details",{className:"custom-details-example"},(0,o.kt)("summary",null,"Compare a successful Create PDP Context event with one that failed"),(0,o.kt)("img",{src:n(2661).Z,style:{width:550},alt:""})),(0,o.kt)("h3",{id:"filtering"},"Filtering"),(0,o.kt)("p",null,"The first column, ",(0,o.kt)("strong",{parentName:"p"},"Severity"),", provides the following filters:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"All")," (default)"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Info")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Warning")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Critical"))),(0,o.kt)("p",null,"For instance, if you filter for the ",(0,o.kt)("strong",{parentName:"p"},"Warning")," severity and see any of the following events, it's a good indication of a failure that's preventing network connectivity. "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Create PDP Context")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Endpoint blocked")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Endpoint data traffic limit warning")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"User authentication failed"))),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"For more detailed information about events, see ",(0,o.kt)("a",{parentName:"p",href:"/system-events"},(0,o.kt)("strong",{parentName:"a"},"emnify system events")),".")),(0,o.kt)("h3",{id:"events-indicating-normal-operation"},"Events indicating normal operation"),(0,o.kt)("p",null,"The expected series of events for a fully functional, connected device would look similar to this:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Info: Endpoint enabled"),(0,o.kt)("li",{parentName:"ol"},"Info: SIM activation"),(0,o.kt)("li",{parentName:"ol"},"Info: Update GPRS location"),(0,o.kt)("li",{parentName:"ol"},"Info: Create PDP Context"),(0,o.kt)("li",{parentName:"ol"},"Info: Update location"),(0,o.kt)("li",{parentName:"ol"},"Info: Create PDP Context"),(0,o.kt)("li",{parentName:"ol"},"Info: Delete PDP Context"),(0,o.kt)("li",{parentName:"ol"},"Info: Create PDP Context")),(0,o.kt)("h3",{id:"reset-connectivity"},"Reset connectivity"),(0,o.kt)("p",null,"If you reset connectivity for a device, the expected series of events would be:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Info: SIM suspension"),(0,o.kt)("li",{parentName:"ol"},"Info: Delete PDP Context"),(0,o.kt)("li",{parentName:"ol"},"Info: Endpoint disabled"),(0,o.kt)("li",{parentName:"ol"},"Info: Endpoint enabled"),(0,o.kt)("li",{parentName:"ol"},"Info: SIM activation"),(0,o.kt)("li",{parentName:"ol"},"Info: Update location")),(0,o.kt)("p",null,"If the connection (PDP context) is never created and the connection remains ",(0,o.kt)("strong",{parentName:"p"},"Attached"),", try rebooting the device.\nIn some cases, a reboot is needed to establish the data connection.\nIf so, these additional events should be logged, with ",(0,o.kt)("strong",{parentName:"p"},"Create PDP Context")," being the crucial one. "),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Info: Update GPRS location"),(0,o.kt)("li",{parentName:"ol"},"Info: Create PDP Context")),(0,o.kt)("h2",{id:"more-troubleshooting-tips"},"More troubleshooting tips"),(0,o.kt)("p",null,"Several factors can cause data connectivity problems.\nFor more detailed troubleshooting tips, see ",(0,o.kt)("a",{parentName:"p",href:"/quickstart/troubleshooting"},"Troubleshooting"),"."))}d.isMDXComponent=!0},2661:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/create-pdp-context-success-and-failure-fa453d5ba46359ba6736894eaf501356.png"},6009:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/device-details-events-0bf5cc580afc75b455d2b9d852d40586.png"},9246:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/usage-data-current-month-43d062e6d69ae017a88f6673286d980b.png"},6109:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/usage-data-last-hour-7dc563ed64e3d4224b504427649791c6.png"}}]);
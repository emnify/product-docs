"use strict";(self.webpackChunkproduct_docs=self.webpackChunkproduct_docs||[]).push([[912],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>g});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},c=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},u="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=s(a),d=r,g=u["".concat(p,".").concat(d)]||u[d]||h[d]||i;return a?n.createElement(g,o(o({ref:t},c),{},{components:a})):n.createElement(g,o({ref:t},c))}));function g(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=d;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[u]="string"==typeof e?e:r,o[1]=l;for(var s=2;s<i;s++)o[s]=a[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},2299:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var n=a(7462),r=(a(7294),a(3905));const i={},o="How to use the GraphiQL IDE",l={unversionedId:"graphql/using-graphiql",id:"graphql/using-graphiql",title:"How to use the GraphiQL IDE",description:"So you can experiment with the emnify GraphQL API, we've set up an in-browser GraphiQL IDE.",source:"@site/docs/graphql/using-graphiql.md",sourceDirName:"graphql",slug:"/graphql/using-graphiql",permalink:"/graphql/using-graphiql",draft:!1,editUrl:"https://github.com/emnify/product-docs/blob/main/docs/graphql/using-graphiql.md",tags:[],version:"current",lastUpdatedAt:1679186402,formattedLastUpdatedAt:"Mar 19, 2023",frontMatter:{},sidebar:"graphqlSidebar",previous:{title:"Preview the GraphQL API",permalink:"/graphql/preview"}},p={},s=[{value:"Navigating the interface",id:"navigating-the-interface",level:2},{value:"Authentication",id:"authentication",level:2},{value:"Retrieving your application token",id:"retrieving-your-application-token",level:3},{value:"Adding your application token to GraphiQL",id:"adding-your-application-token-to-graphiql",level:3},{value:"Executing your first query",id:"executing-your-first-query",level:2},{value:"Writing your own query",id:"writing-your-own-query",level:2}],c={toc:s};function u(e){let{components:t,...i}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"how-to-use-the-graphiql-ide"},"How to use the GraphiQL IDE"),(0,r.kt)("p",null,"So you can experiment with the emnify GraphQL API, we've set up an ",(0,r.kt)("a",{parentName:"p",href:"https://graphql-playground.emnify.net/"},"in-browser GraphiQL IDE"),". "),(0,r.kt)("p",null,"Similar to OpenAPI in the REST world, ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/graphql/graphiql"},"GraphiQL"),' (pronounced "graphical") helps you accurately structure and validate queries, then run them directly against the server endpoint.\nIt\'s equipped with tools to help you try out our GraphQL API.\nNotable features include autocompleting, syntax highlighting, interactive documentation, and schema explorers.'),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"If you're new to GraphQL, we'd recommend visiting the ",(0,r.kt)("a",{parentName:"p",href:"https://graphql.org/learn/"},"official GraphQL documentation")," to familiarize yourself with how the query language is structured.")),(0,r.kt)("h2",{id:"navigating-the-interface"},"Navigating the interface"),(0,r.kt)("p",null,"The UI is divided into three parts:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Sidebar")," where you can open plugin panes and change settings"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Left panel")," where you write your queries"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Right panel")," where the results of your queries will be displayed")),(0,r.kt)("img",{src:"https://user-images.githubusercontent.com/25433336/225385087-37c5fa5c-4b23-4fca-a1b5-675974392473.png",alt:""}),(0,r.kt)("p",null,"At the top of the sidebar, there are buttons for the ",(0,r.kt)("a",{parentName:"p",href:"#documentation-explorer"},"documentation explorer"),", history, and GraphiQL explorer.\nUnderneath, the sidebar shows buttons that allow you to re-fetch the GraphQL schema, see the keyboard shortcuts, and change settings."),(0,r.kt)("p",null,"The bottom of the left panel has two sections: ",(0,r.kt)("strong",{parentName:"p"},"Variables")," and ",(0,r.kt)("strong",{parentName:"p"},"Headers"),".\nBy default, you'll see a placeholder for the ",(0,r.kt)("a",{parentName:"p",href:"#authentication"},(0,r.kt)("strong",{parentName:"a"},"Authorization")," header"),"."),(0,r.kt)("p",null,"When you type queries into this side of the screen, the IDE provides autocompletes based on the current GraphQL type schema and live syntax and validation error highlighting."),(0,r.kt)("p",null,"An example GraphQL query might look like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-graphql"},'{\n  field(arg: "value") {\n    subField\n  }\n}\n')),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"GraphQL queries typically start with a ",(0,r.kt)("inlineCode",{parentName:"p"},"{")," character.\nLines that start with a ",(0,r.kt)("inlineCode",{parentName:"p"},"#")," are ignored.")),(0,r.kt)("h2",{id:"authentication"},"Authentication"),(0,r.kt)("p",null,"To make calls from this IDE, you need to provide an ",(0,r.kt)("a",{parentName:"p",href:"#retrieving-your-application-token"},"application token")," in the ",(0,r.kt)("a",{parentName:"p",href:"#adding-your-application-token-to-graphiql"},(0,r.kt)("strong",{parentName:"a"},"Headers")," section"),"."),(0,r.kt)("h3",{id:"retrieving-your-application-token"},"Retrieving your application token"),(0,r.kt)("p",null,"You can generate an\xa0application token\xa0in the emnify Portal:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://portal.emnify.com/sign"},"Log in to your emnify account"),"."),(0,r.kt)("li",{parentName:"ol"},"Navigate to the ",(0,r.kt)("a",{parentName:"li",href:"https://portal.emnify.com/integrations#application-tokens"},(0,r.kt)("strong",{parentName:"a"},"Application Tokens"))," section of the ",(0,r.kt)("a",{parentName:"li",href:"https://portal.emnify.com/integrations"},(0,r.kt)("strong",{parentName:"a"},"Integrations"))," page.")),(0,r.kt)("img",{src:a(8290).Z,alt:""}),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Select ",(0,r.kt)("strong",{parentName:"li"},"Add Token"))),(0,r.kt)("img",{src:a(1536).Z,alt:""}),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"Fill out the token's ",(0,r.kt)("strong",{parentName:"li"},"Description")," and ",(0,r.kt)("strong",{parentName:"li"},"Expiry date (UTC)"),", and indicate whether you want to ",(0,r.kt)("strong",{parentName:"li"},"Add IP restriction"),".\nClick ",(0,r.kt)("strong",{parentName:"li"},"Create application token")," to confirm your choices.")),(0,r.kt)("p",null,"In the following example, we are creating a new application token with the description ",(0,r.kt)("strong",{parentName:"p"},"Testing the GraphQL API"),", expiring ",(0,r.kt)("strong",{parentName:"p"},"June 30, 2023"),", with no additional IP restrictions."),(0,r.kt)("img",{src:a(4420).Z,alt:""}),(0,r.kt)("ol",{start:5},(0,r.kt)("li",{parentName:"ol"},"Once complete, you'll see the ",(0,r.kt)("strong",{parentName:"li"},"Token created")," view.\nClick ",(0,r.kt)("strong",{parentName:"li"},"Copy token")," to copy the value to your clipboard and store it somewhere secure.\nWhen you're ready, click ",(0,r.kt)("strong",{parentName:"li"},"Close"),".")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"After closing, you won't be able to retrieve this token value again.\nWe recommend storing it in a safe place (e.g., a password manager).")),(0,r.kt)("img",{src:a(1522).Z,alt:""}),(0,r.kt)("p",null,"Your new token should now be available at the bottom of the ",(0,r.kt)("strong",{parentName:"p"},"Application Tokens")," list."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Alternatively, you can retrieve your application token from the ",(0,r.kt)("a",{parentName:"p",href:"/rest-api/authentication#authenticate-with-an-application-token"},"emnify REST API"),".")),(0,r.kt)("h3",{id:"adding-your-application-token-to-graphiql"},"Adding your application token to GraphiQL"),(0,r.kt)("p",null,"Once you have an ",(0,r.kt)("a",{parentName:"p",href:"#retrieving-your-application-token"},"application token created and safely stored"),", you need to pass that token to the GraphiQL IDE."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Navigate to the ",(0,r.kt)("a",{parentName:"li",href:"https://graphql-playground.emnify.net/"},"emnify GraphiQL IDE")),(0,r.kt)("li",{parentName:"ol"},"Locate the ",(0,r.kt)("strong",{parentName:"li"},"Headers")," section ")),(0,r.kt)("img",{src:a(4325).Z,alt:"",style:{width:800}}),(0,r.kt)("p",null,"By default, this section will have the following placeholder:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-graphql"},'{\n  "Authorization": "Bearer <APP_TOKEN>"\n}\n')),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Replace ",(0,r.kt)("inlineCode",{parentName:"li"},"<APP_TOKEN>")," with your application token value")),(0,r.kt)("p",null,"To test that you're authorized, click the ",(0,r.kt)("strong",{parentName:"p"},"Execute query")," button (\u25b6\ufe0f) and check your result."),(0,r.kt)("h2",{id:"executing-your-first-query"},"Executing your first query"),(0,r.kt)("p",null,"When you first visit our GraphiQL IDE, you'll see a pre-populated example query in the left panel."),(0,r.kt)("img",{src:a(3039).Z,alt:"",style:{width:800}}),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"We'll use GraphiQL's interactive documentation throughout this example.\nTo follow along, click the ",(0,r.kt)("strong",{parentName:"p"},"Show Documentation Explorer")," button in the sidebar."),(0,r.kt)("img",{src:a(9741).Z,alt:"",style:{width:350}}),(0,r.kt)("p",{parentName:"admonition"},"Once the ",(0,r.kt)("strong",{parentName:"p"},"Docs")," are visible, choose ",(0,r.kt)("inlineCode",{parentName:"p"},"Query"),", then find and select ",(0,r.kt)("inlineCode",{parentName:"p"},"myUser"),".")),(0,r.kt)("p",null,"Let's take a closer look:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-graphql"},"{\n  myUser {\n    organisation {\n      name\n      id\n    }\n  }\n}\n")),(0,r.kt)("p",null,"What's happening in this example:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"myUser")," is a ",(0,r.kt)("a",{parentName:"li",href:"https://graphql.org/learn/queries/"},"query")," that can return your user and organization details, including endpoint status and active tariff plan.")),(0,r.kt)("img",{src:a(9517).Z,alt:"",style:{width:700}}),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"In GraphQL, the ",(0,r.kt)("inlineCode",{parentName:"p"},"!")," means that ",(0,r.kt)("a",{parentName:"p",href:"https://graphql.org/learn/queries/#variable-definitions"},"variable definition")," is required.")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Within ",(0,r.kt)("inlineCode",{parentName:"li"},"myUser"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"User")," is listed as a required ",(0,r.kt)("a",{parentName:"li",href:"https://graphql.org/learn/schema/#object-types-and-fields"},"object type")," and indicates which ",(0,r.kt)("a",{parentName:"li",href:"https://graphql.org/learn/queries/#fields"},"fields")," we can use in this query.\nBecause ",(0,r.kt)("inlineCode",{parentName:"li"},"User")," is the only type available, we don't need to type it out explicitly.")),(0,r.kt)("img",{src:a(3602).Z,alt:"",style:{width:700}}),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"This example uses the ",(0,r.kt)("inlineCode",{parentName:"li"},"organisation")," field, which requires the ",(0,r.kt)("inlineCode",{parentName:"li"},"Organisation")," object type.\nWe want to receive the ",(0,r.kt)("inlineCode",{parentName:"li"},"name")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"id")," fields from that object type.")),(0,r.kt)("img",{src:a(843).Z,alt:"",style:{width:700}}),(0,r.kt)("p",null,"Finally, when we execute the query, it returns a ",(0,r.kt)("inlineCode",{parentName:"p"},"data")," object with our requested information."),(0,r.kt)("img",{src:a(8899).Z,alt:""}),(0,r.kt)("h2",{id:"writing-your-own-query"},"Writing your own query"),(0,r.kt)("p",null,"Remove any content in the left panel and begin typing:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-graphql"},"{\n\n}\n")),(0,r.kt)("p",null,"Inside the curly braces, you can start typing or use the keyboard shortcuts to open the autocomplete window."),(0,r.kt)("p",null,'In the following example, we started typing "end", and the IDE suggested ',(0,r.kt)("inlineCode",{parentName:"p"},"endpoint"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"endpoints"),", and ",(0,r.kt)("inlineCode",{parentName:"p"},"endpointsQuery"),"."),(0,r.kt)("img",{src:a(9712).Z,alt:"",style:{width:450}}),(0,r.kt)("p",null,"If you need help with what to write, click the ",(0,r.kt)("strong",{parentName:"p"},"Show GraphiQL Explorer")," button on the sidebar."),(0,r.kt)("img",{src:a(7422).Z,alt:"",style:{width:450}}),(0,r.kt)("p",null,"This will display an interactive overview of the current GraphQL schema.\nOpen and select your desired fields, and the query will build and format itself automatically."),(0,r.kt)("img",{src:a(6792).Z,alt:"",style:{width:800}}),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"To see the queries you've executed during a session, click the ",(0,r.kt)("strong",{parentName:"p"},"Show history")," button on the sidebar."),(0,r.kt)("img",{src:a(3259).Z,alt:"",style:{width:350}})))}u.isMDXComponent=!0},4325:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/graphiql-default-headers-9acc94c64a44ab652c372bbb3b9b6ea8.png"},8899:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/graphiql-default-query-response-2bb3a0cdaec903deec0cfb9985e87f35.png"},3039:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/graphiql-default-query-bf84faa08f3a94f4085f3ca4161ebc48.png"},843:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/graphiql-docs-query-myuser-user-organisation-7e9aa4ad267880a3cc785466aa74ddd3.png"},3602:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/graphiql-docs-query-myuser-user-28951cdd6913c3ef8a934685d3a776d3.png"},9517:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/graphiql-docs-query-myuser-70119b8f6f4b4eec1ce2505412173d26.png"},6792:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/graphiql-graphiql-explorer-endpoints-54f8e35c461e5d9d0c253acf12cccbae.png"},9712:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/graphiql-query-autocomplete-d82d2269c00e78f23f392272eabc9219.png"},9741:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/graphiql-sidebar-show-documentation-explorer-button-b57608087cd3526140ee870ad0507f3e.png"},7422:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/graphiql-sidebar-show-graphiql-explorer-button-739297257dc8b592553cc16d35dc6df2.png"},3259:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/graphiql-sidebar-show-history-button-c7409b03c5d143bbc40150dc407e9a0d.png"},1536:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/portal-integrations-application-tokens-add-token-button-d2ae66743a644c90d273a320ed47b1a2.png"},4420:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/portal-integrations-application-tokens-add-token-form-ec1f0b92a44336c9b27e0a88ec7711d0.png"},1522:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/portal-integrations-application-tokens-add-token-token-created-5ba34374b5b02048a24afd78c137e69a.png"},8290:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/portal-integrations-application-tokens-7ec73190bad39c3e71b694e018aa8a47.png"}}]);